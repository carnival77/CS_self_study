# 파티션

- [파티션](#파티션)
  - [파티션이란?](#파티션이란)
    - [파티션의 특징](#파티션의-특징)
    - [파티션의 장/단점](#파티션의-장단점)
  - [파티션 종류](#파티션-종류)
    - [Range Partition](#range-partition)
    - [List Partition](#list-partition)
    - [Hash Partition](#hash-partition)
    - [Composite Partition](#composite-partition)

## 파티션이란?

대용량의 테이블이나 인덱스를 작은 논리적 단위인 파티션으로 나누는 것.

### 파티션의 특징

- 성능 저하를 방지
- 데이터 관리 용이
- 테이블이나 인덱스를 파티셔닝 하면 파티션키 또는 인덱스키에 따라 물리적으로 별도의 공간에 데이터 저장
- 데이터 처리는 테이블 단위로, 데이터 저장은 파티션 별로 수행
  
### 파티션의 장/단점

- 장점
  - 데이터를 조회할 때 데이터의 범위를 줄여서 성능을 향상시킬 수 있다.
  - 파티션별로 데이터가 분산되어 저장되므로 디스크 성능 향상
  - 파티션별로 백업/복구 수행하므로 속도 향상
  - 시스템 장애 시 데이터 손상 정도 최소화
  - 데이터 가용성 향상
  - 파티션 단위로 입/출력을 분산
- 단점
  - 하나의 테이블을 세분화하여 관리하므로 관리 난이도 증가
  - 테이블간 조인 비용 증가
  - 용량 작은 테이블에 파티셔닝 수행하면 성능 저하

## 파티션 종류

### Range Partition

- 테이블의 칼럼 중에서 값의 범위를 기준으로 여러개의  파티션으로 데이터를 나누어 테이블 스페이스에 저장하는 것이다.
- 예를 들어 급여가 있다면 급여의 범위를 지정해서 각각 여러 개의 파티션으로 나눈 것이다.

### List Partition

- 특정 값을 기준으로 파티션을 분할하는 방법이다.
- 데이터 분포가 낮지 않고 균등하게 분포되어 있다면 유용하다.(예를 들어 부서 같은 것)
- 단일 칼럼만 가능

### Hash Partition

- DBMS 내부 적으로 해시 함수를 사용해서 데이터를 분할한다.
- 결과적으로 Range 나 List와는 다르게 DBMS가 알아서 분할하고 관리하는 것이다.
- 이력관리의 목적보단 성능 향상의 목적에서 나온 개념이다. 일정한 분포를 가진 파티션으로 나누고 균등한 데이터 분포도를 이용한 병렬처리로 퍼포먼스를 향상시킬 수 있다.

### Composite Partition

- 파티션의 칼럼을 Main/Sub로 나누어 분할하는 방식이다.
- 버전에 따라 다양하게 조합 가능하다.(List/List, List/Hash)
